<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>çµ±åˆãƒã‚§ãƒƒã‚¯ - jimakuChan v2025.8.17</title>
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .check-item {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>ğŸ” jimakuChan v2025.8.17 çµ±åˆãƒã‚§ãƒƒã‚¯</h1>
    
    <div id="checks"></div>
    
    <script>
        const checks = [];
        const checksDiv = document.getElementById('checks');
        
        // 1. HTTPSç¢ºèª
        const httpsCheck = location.protocol === 'https:';
        checks.push({
            name: 'HTTPSæ¥ç¶š',
            status: httpsCheck ? 'success' : 'error',
            message: httpsCheck ? 'âœ… HTTPSã§æ¥ç¶šã•ã‚Œã¦ã„ã¾ã™' : 'âŒ HTTPã§ã¯éŸ³å£°èªè­˜ãŒå‹•ä½œã—ã¾ã›ã‚“'
        });
        
        // 2. Web Speech APIç¢ºèª
        const speechAPICheck = 'webkitSpeechRecognition' in window || 'SpeechRecognition' in window;
        checks.push({
            name: 'Web Speech API',
            status: speechAPICheck ? 'success' : 'error',
            message: speechAPICheck ? 'âœ… éŸ³å£°èªè­˜APIãŒåˆ©ç”¨å¯èƒ½' : 'âŒ éŸ³å£°èªè­˜APIãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'
        });
        
        // 3. Chrome Translation APIç¢ºèª
        const translationAPICheck = 'Translator' in self;
        checks.push({
            name: 'Chrome Translation API',
            status: translationAPICheck ? 'success' : 'warning',
            message: translationAPICheck ? 
                'âœ… Chrome Translation API (Chrome 138+) ãŒåˆ©ç”¨å¯èƒ½' : 
                'âš ï¸ Chrome Translation APIã¯åˆ©ç”¨ã§ãã¾ã›ã‚“ï¼ˆGAS APIã‚’ä½¿ç”¨ï¼‰'
        });
        
        // 4. chrome_translator_v2.jsç¢ºèª
        const translatorScriptCheck = typeof ChromeTranslatorV2 !== 'undefined';
        checks.push({
            name: 'Translator Script',
            status: translatorScriptCheck ? 'success' : 'info',
            message: translatorScriptCheck ? 
                'âœ… chrome_translator_v2.jsãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™' : 
                'â„¹ï¸ chrome_translator_v2.jsã¯è¨­å®šç”»é¢ã§ã¯ä¸è¦ã§ã™'
        });
        
        // 5. LocalStorageç¢ºèª
        let localStorageCheck = false;
        try {
            localStorage.setItem('test', 'test');
            localStorage.removeItem('test');
            localStorageCheck = true;
        } catch(e) {}
        
        checks.push({
            name: 'LocalStorage',
            status: localStorageCheck ? 'success' : 'error',
            message: localStorageCheck ? 
                'âœ… è¨­å®šã®ä¿å­˜ãŒå¯èƒ½ã§ã™' : 
                'âŒ è¨­å®šã®ä¿å­˜ãŒã§ãã¾ã›ã‚“'
        });
        
        // 6. ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±
        checks.push({
            name: 'ãƒãƒ¼ã‚¸ãƒ§ãƒ³',
            status: 'info',
            message: `â„¹ï¸ jimakuChan v2025.8.17 (2025å¹´8æœˆ17æ—¥ 09:48æ›´æ–°)`
        });
        
        // 7. ä¸»ãªæ›´æ–°å†…å®¹
        checks.push({
            name: 'æ›´æ–°å†…å®¹',
            status: 'info',
            message: `â„¹ï¸ Chrome Translation APIçµ±åˆã«ã‚ˆã‚‹çˆ†é€Ÿç¿»è¨³ï¼ˆ1-3ç§’â†’50msï¼‰`
        });
        
        // çµæœè¡¨ç¤º
        checks.forEach(check => {
            const div = document.createElement('div');
            div.className = `check-item ${check.status}`;
            div.innerHTML = `<strong>${check.name}:</strong> ${check.message}`;
            checksDiv.appendChild(div);
        });
        
        // ç·åˆåˆ¤å®š
        const hasError = checks.some(c => c.status === 'error');
        const summaryDiv = document.createElement('div');
        summaryDiv.className = `check-item ${hasError ? 'error' : 'success'}`;
        summaryDiv.style.marginTop = '20px';
        summaryDiv.innerHTML = hasError ? 
            '<h3>âŒ ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã—ã¦ãã ã•ã„ã€‚</h3>' :
            '<h3>âœ… ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ã«åˆæ ¼ã—ã¾ã—ãŸï¼jimakuChanã‚’ä½¿ç”¨ã™ã‚‹æº–å‚™ãŒã§ãã¦ã„ã¾ã™ã€‚</h3>';
        checksDiv.appendChild(summaryDiv);
    </script>
</body>
</html>